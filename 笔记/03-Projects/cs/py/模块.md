if __name__ == '__main__':的运行原理
每个python模块（python文件，也就是此处的 test.py 和 import_test.py）都包含内置的变量 __name__，当该模块被直接执行的时候，__name__ 等于文件名（包含后缀 .py ）；如果该模块 import 到其他模块中，则该模块的 __name__ 等于模块名称（不包含后缀.py）。

而 “__main__” 始终指当前执行模块的名称（包含后缀.py）。进而当模块被直接执行时，__name__ == 'main' 结果为真







## 模块的搜索路径

上面的例子里，我们导入自己写的hello_world模块时提到，须和test.py位于同一个文件夹下。就是说，test.py在import时会在当前目录下查找叫做hello_world.py的文件。

我们可能会有疑问，如果项目做大了必须要分子目录了怎么办？安装第三方模块时是默认安装到了系统目录里，python是如何找到的？又如，如果服务器上安装好几个版本numpy模块库，我们该怎么指定需要的版本？

想搞清楚这些问题，我们就需要先搞清楚python查找模块的规则。我们知道linux在查找可执行命令时是安照PATH环境变量的顺序。类似地，python按照sys.path的顺序来查找模块定义。比如，windows环境下，我们把sys.path打印出来，如下：

import sys 
print(sys.path)

输出：  
['', 'C:\Python\Python36\python36.zip', 'C:\Python\Python36\DLLs', 'C:\Python\Python36\lib', 'C:\Python\Python36', 'C:\Python\Python36\lib\site-packages']

我们可以看到，sys.path其实是列表，里面存着一个个路径。python按照列表的先后顺序，逐个目录查找，直到找到模块定义。知道了这一点，我们就可以根据需要手工改造sys.path的列表，比如把我们自己写的模块目录insert到sys.path的一开头，比如delete掉某个不需要的目录，比如调换两个目录的顺序，等等。

另外python启动时还会读取PYTHONPATH的环境变量，并insert到sys.path的一开头。因此，我们也可以修改PYTHONPATH来指定需要的模块所在目录。我们需要结合实际，决定是修改PYTHONPATH还是直接修改sys.path。看哪个可行，看哪个更方便。

## 如何安装模块

如果你的服务器可以联网，那么恭喜你，你只需要一个命令pip install xxx就可以安装第三方模块。pip是python安装第三方模块的工具。比如，如果你需要安装numpy，只需要pip install numpy即可，安装过程中会自动下载安装依赖包。

有些童鞋立即试了试，却发现“没有pip命令”？那很可能是没有安装pip，或者没有正确设置PATH环境变量。

windows环境下，先看看python安装目录下的scripts文件夹里有没有pip.exe。如果有，就添加C:\Python36\Scripts到环境变量。如下图。




